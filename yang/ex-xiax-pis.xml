<processing-intructions xmlns="https://watsen.net/xiax">

  <document>
    <transform>
      <filename>
        <replace>
          <pattern>.xml</pattern>
          <git-tag>-%v.xml</git-tag>
        </replace>
      </filename>
      <content>
        <replace>
          <pattern>YYYY-MM-DD</pattern>
          <strftime>%Y-%m-%d</strftime>
        </replace>
      </content>
    </transform>
  </document>

  <inclusions>

    <inclusion>
      <tag>gen-crypto-types-tree</tag>
      <generate>
        <yang-tree-diagram>
          <yang-module>
            <inclusion>ietf-crypto-types.yang</inclusion>
          </yang-module>
          <parameters>
            <print-groupings/>
          </parameters>
          <!--
          <additional-yang-modules>
            <additional-yang-module>
              <uri>https://raw.githubusercontent.com/YangModels/yang/master/standard/ietf/RFC/ietf-netconf-acm@2018-02-14.yang</uri>
            </additional-yang-module>
          </additional-yang-modules>
          -->
        </yang-tree-diagram>
      </generate>
    </inclusion>

    <inclusion>
      <tag>ietf-crypto-types.yang</tag>
      <source>
        <filepath>ietf-crypto-types.yang</filepath>
        <transform>
          <filename>
            <replace>
              <pattern>.yang</pattern>
              <strftime>%Y-%m-%d.yang</strftime>
            </replace>
          </filename>
          <content>
            <replace>
              <pattern>YYYY-MM-DD</pattern>
              <strftime>%Y-%m-%d</strftime>
            </replace>
          </content>
        </transform>
        <framing>
          <yang-markers/>
        </framing>
        <validate>
          <yang-module>
          <!--
            <additional-yang-modules>    // should this be derived?
              <additional-yang-module>ietf-netconf-acm@2018-02-14.yang</additional-yang-module>
            </additional-yang-modules>
          -->
          </yang-module>
        </validate>
      </source>
    </inclusion>

    <inclusion>
      <tag>ietf-crypto-types-usage.yang</tag>
      <source>
        <filepath>ex-crypto-types-usage.yang</filepath>
        <transform>
          <filename>
            <replace>
              <pattern>.yang</pattern>
              <strftime>%Y-%m-%d.yang</strftime>
            </replace>
          </filename>
          <content>
            <replace>
              <pattern>YYYY-MM-DD</pattern>
              <strftime>%Y-%m-%d</strftime>
            </replace>
          </content>
        </transform>
        <validate>
          <yang-module>
            <!--
            <additional-yang-modules>
              <additional-yang-module>                            // should this be derived?
                <ietf>ietf-netconf-acm.yang</ietf>
                <revision>2018-02-14</revision>
              </additional-yang-module>
              <additional-yang-module>                            // can this be derived?
                <inclusion>ietf-crypto-types.yang</inclusion>
              </additional-yang-module>
            </additional-yang-modules>
            -->
          </yang-module>
        </validate>
      </source>
    </inclusion>

    <inclusion>
      <tag>ex-crypto-types-usage.xml</tag>
      <source>
        <filepath>refs/ex-crypto-types-usage.xml</filepath>
        <validate>
          <xml-document>
            <using-yang>
              <data-type>config</data-type>
              <yang-module>
                <inclusion>ex-crypto-types-usage.yang</inclusion>
              </yang-module>
              <!--
              <additional-yang-modules>
                <additional-yang-module>                            // should this be derived?
                  <ietf>ietf-netconf-acm.yang</ietf>
                  <revision>2018-02-14</revision>
                </additional-yang-module>
                <additional-yang-module>                            // can this be derived?
                  <inclusion>ietf-crypto-types.yang</inclusion>
                </additional-yang-module>
              </additional-yang-modules>
              -->
            </using-yang>
          </xml-document>
        </validate>
      </source>
    </inclusion>

    <inclusion>
      <tag>ex-crypto-types-ghk-rpc.xml</tag>
      <source>
        <filepath>refs/ex-crypto-types-ghk-rpc.xml</filepath>
        <validate>
          <xml-document>
            <using-yang>
              <data-type>rpc</data-type>
              <yang-module>
                <inclusion>ex-crypto-types.yang</inclusion>
              </yang-module>
              <!--
              <additional-yang-modules>
                <additional-yang-module>                            // should this be derived?
                  <ietf>ietf-netconf-acm.yang</ietf>
                  <revision>2018-02-14</revision>
                </additional-yang-module>
              -->
            </using-yang>
          </xml-document>
        </validate>
      </source>
    </inclusion>

    <inclusion>
      <tag>ex-crypto-types-ghk-rpc-reply.xml</tag>
      <source>
        <filepath>refs/ex-crypto-types-ghk-rpc-reply.xml</filepath>
        <validate>
          <xml-document>
            <using-yang>
              <yang-module>
                <inclusion>ex-crypto-types.yang</inclusion>
              </yang-module>
              <data-type>rpc-reply</data-type>
              <!--
              <additional-yang-modules>
                <additional-yang-module>                            // should this be derived?
                  <ietf>ietf-netconf-acm.yang</ietf>
                  <revision>2018-02-14</revision>
                </additional-yang-module>
              -->
            </using-yang>
            <additional-xml-documents>
              <additional-xml-document>
	        <bogus-key>dfgdfg</bogus-key> 
	        <inclusion>refs/ex-crypto-types-ghk-rpc.xml</inclusion>
              </additional-xml-document>
            </additional-xml-documents>
          </xml-document>
        </validate>
      </source>
    </inclusion>

  </inclusions>
</processing-intructions>
